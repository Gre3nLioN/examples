<!DOCTYPE HTML>
<html lang="en">

<head>
    <title>three.js particle tutorial</title>
    <meta charset="utf-8">

    <style type="text/css">
        body {
            background-color: #000000;
            margin: 0px;
            overflow: hidden;
        }
    </style>

</head>

<body>

    <script src="Three.js"></script>

    <script defer="defer">
        var renderer = new THREE.CanvasRenderer();
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 1, 1000);
        init();

        function init() { // renderer
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // camera
            camera.position.y = -250;
            camera.position.z = 400;

            var loader = new THREE.JSONLoader();
            loader.load('./world.json', callBackMesh);
            loader.load('./world.json', callBackMars);
            loader.load('./world.json', callBackSun);

			renderer.render(scene, camera);


            document.addEventListener('mousemove', onMouseMove, false);
            // start animation
            // animate();

            setInterval(update, 1000 / 30);
        }

        function callBackMesh(geometry, materials) {

            imagen = new THREE.ImageUtils.loadTexture('./worldReal.jpg');
            material = new THREE.MeshBasicMaterial({
                map: imagen
            });
            var mesh = new THREE.Mesh(geometry, material);
            mesh.scale.set(10, 10, 10);
            mesh.position.set(0, -250, 300);
            scene.add(mesh);
        };

        function callBackMars(geometry, materials) {

            imagen = new THREE.ImageUtils.loadTexture('./mars.jpg');
            material = new THREE.MeshBasicMaterial({
                map: imagen
            });
            var mesh = new THREE.Mesh(geometry, material);
            mesh.scale.set(10, 10, 10);
            mesh.position.set(100, -250, 350);
            scene.add(mesh);
        };

        function callBackSun(geometry, materials) {

            imagen = new THREE.ImageUtils.loadTexture('./sun.jpg');
            material = new THREE.MeshBasicMaterial({
                map: imagen
            });
            var mesh = new THREE.Mesh(geometry, material);
            mesh.scale.set(10, 10, 10);
            mesh.position.set(-100, -250, 350);

            scene.add(mesh);
        };

        function onMouseMove(event) {
            mouseX = event.clientX;
            mouseY = event.clientY;
            var vector = new THREE.Vector3((window.innerWidth / 2) - mouseX, (window.innerHeight / 2) - mouseY, 45);

            camera.lookAt(vector);
        }

        function update() {
            renderer.render(scene, camera);
        }
    </script>

</body>

</html>
